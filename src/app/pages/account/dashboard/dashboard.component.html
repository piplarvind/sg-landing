<div class="m-container">
  <div class="card-container main-static">
    <mat-card class="card-item" *ngIf="user_role === 'ATH'">
      <mat-card-content>
        <div fxLayout="row" fxLayoutAlign="space-between">
          <div fxLayout="column" fxLayoutAlign="start start">
            <div class="user-count">{{ parentCount }}</div>
            <div class="card-label">Parents</div>
          </div>
          <!-- <div class="image-container">
            <div [innerHTML]="state.icon" class="svg-icon"></div>
          </div> -->
        </div>
      </mat-card-content>
    </mat-card>
    <mat-card
      class="card-item"
      *ngIf="user_role === 'PAR' || user_role === 'FFF'"
    >
      <mat-card-content>
        <div fxLayout="row" fxLayoutAlign="space-between">
          <div fxLayout="column" fxLayoutAlign="start start">
            <div class="user-count">{{ athleteCount }}</div>
            <div class="card-label">Athletes</div>
          </div>
          <!-- <div class="image-container">
            <div [innerHTML]="state.icon" class="svg-icon"></div>
          </div> -->
        </div>
      </mat-card-content>
    </mat-card>

    <mat-card
      class="card-item"
      *ngIf="user_role === 'ATH' || user_role === 'PAR' || user_role === 'FFF'"
    >
      <mat-card-content>
        <div fxLayout="row" fxLayoutAlign="space-between">
          <div fxLayout="column" fxLayoutAlign="start start">
            <div class="user-count">{{ successfullPayment }}</div>
            <div class="card-label">Payments</div>
          </div>
          <!-- <div class="image-container">
            <div [innerHTML]="state.icon" class="svg-icon"></div>
          </div> -->
        </div>
      </mat-card-content>
    </mat-card>

    <!-- <mat-card *ngFor="let state of dashboardStates" class="card-item">
      <mat-card-content (click)="navigateToPage(state.abbr)">
        <div fxLayout="row" fxLayoutAlign="space-between">
          <div fxLayout="column" fxLayoutAlign="start start">
            <div class="user-count">{{ state.userCount }}</div>
            <div class="card-label">{{ state.name }}</div>
          </div>
          <div class="image-container">
            <div [innerHTML]="state.icon" class="svg-icon"></div>
          </div>
        </div>
      </mat-card-content>
    </mat-card> -->
  </div>

  <div fxLayout="row" fxLayoutAlign="start stretch" fxLayoutGap="16px">
    <mat-card
      fxFlex="60%"
      class="new-mat-card"
      *ngIf="user_role === 'PAR' || user_role === 'FFF'"
    >
      <mat-card-title
        fxLayout="row"
        fxLayoutGap="8px"
        fxLayoutAlign="start center"
      >
        <span style="flex: 1">My Athletes</span>

        <div class="m-title" fxLayout="row" fxLayoutAlign="end">
          <div class="head-right-div">
            <!-- <div>
              <mat-form-field
                appearance="outline"
                style="margin: -8px 0px -16px 0px !important"
              >
                <mat-icon matPrefix>search</mat-icon>
                <input
                  matInput
                  formControlName="username"
                  type="text"
                  [placeholder]="
                    keyup ? 'Please Press Enter key' : 'Search by name'
                  "
                />
              </mat-form-field>
            </div> -->
            <div class="mt-3">
              <button
                mat-raised-button
                routerLink="/account/my-athletes"
                color="warn"
              >
                View All
              </button>
            </div>
          </div>
        </div>
      </mat-card-title>
      <mat-card-content>
        <div class="m-table-container">
          <mat-table #table [dataSource]="dataSourceAthletes" matSort>
            <ng-container matColumnDef="name">
              <mat-header-cell *matHeaderCellDef mat-sort-header>
                <span class="m-table-header"> Name </span>
              </mat-header-cell>
              <mat-cell
                *matCellDef="let element"
                class="light-red m-pointer"
                (click)="editClub(element)"
              >
                {{ element.name }}
              </mat-cell>
            </ng-container>

            <ng-container matColumnDef="email">
              <mat-header-cell *matHeaderCellDef mat-sort-header>
                <span class="m-table-header"> Email </span>
              </mat-header-cell>
              <mat-cell *matCellDef="let element">
                {{ element.email }}
              </mat-cell>
            </ng-container>

            <mat-header-row
              *matHeaderRowDef="displayedColumns"
            ></mat-header-row>
            <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
          </mat-table>
          <!-- <mat-paginator [length]="100" [pageSize]="100" [pageSizeOptions]="[10,25, 50, 75, 100]">
        </mat-paginator> -->
        </div>
      </mat-card-content>
    </mat-card>
    <mat-card fxFlex="60%" class="new-mat-card" *ngIf="user_role === 'ATH'">
      <mat-card-title
        fxLayout="row"
        fxLayoutGap="8px"
        fxLayoutAlign="start center"
      >
        <span style="flex: 1">My Parents</span>

        <div class="m-title" fxLayout="row" fxLayoutAlign="end">
          <div class="head-right-div">
            <!-- <div>
              <mat-form-field
                appearance="outline"
                style="margin: -8px 0px -16px 0px !important"
              >
                <mat-icon matPrefix>search</mat-icon>
                <input
                  matInput
                  formControlName="username"
                  type="text"
                  [placeholder]="
                    keyup ? 'Please Press Enter key' : 'Search by name'
                  "
                />
              </mat-form-field>
            </div> -->
            <div class="mt-3">
              <button
                mat-raised-button
                routerLink="/account/my-parents"
                color="warn"
              >
                View All
              </button>
            </div>
          </div>
        </div>
      </mat-card-title>
      <mat-card-content>
        <div class="m-table-container">
          <mat-table #table [dataSource]="dataSourceParents" matSort>
            <!-- (matSortChange)="namesort($event)" -->
            <ng-container matColumnDef="name">
              <mat-header-cell *matHeaderCellDef mat-sort-header>
                <span class="m-table-header"> Name </span>
              </mat-header-cell>
              <mat-cell
                *matCellDef="let element"
                class="light-red m-pointer"
                (click)="editClub(element)"
              >
                {{ element.name }}
              </mat-cell>
            </ng-container>

            <ng-container matColumnDef="email">
              <mat-header-cell *matHeaderCellDef mat-sort-header>
                <span class="m-table-header"> Email </span>
              </mat-header-cell>
              <mat-cell *matCellDef="let element">
                {{ element.email }}
              </mat-cell>
            </ng-container>

            <mat-header-row
              *matHeaderRowDef="displayedColumns"
            ></mat-header-row>
            <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
          </mat-table>
        </div>
      </mat-card-content>
    </mat-card>
    <mat-card
      fxFlex="40%"
      class="new-mat-card"
      *ngIf="user_role === 'ATH' || user_role === 'PAR' || user_role === 'FFF'"
    >
      <mat-card-title
        fxLayout="row"
        fxLayoutGap="8px"
        fxLayoutAlign="start center"
      >
        <span style="flex: 1">Recent Payments</span>
        <div class="m-title" fxLayout="row" fxLayoutAlign="end">
          <div class="head-right-div">
            <div class="mt-3">
              <button
                mat-raised-button
                routerLink="/account/payments"
                color="warn"
              >
                View All
              </button>
            </div>
          </div>
        </div>
      </mat-card-title>
      <mat-card-content>
        <div class="m-table-container">
          <mat-table #table [dataSource]="dataSourcePayments" matSort>
            <ng-container matColumnDef="amount">
              <mat-header-cell *matHeaderCellDef mat-sort-header>
                <span class="m-table-header"> Amount </span>
              </mat-header-cell>
              <mat-cell
                *matCellDef="let element"
                class="light-red m-pointer"
                (click)="editClub(element)"
              >
                $ {{ element.amount }}
              </mat-cell>
            </ng-container>

            <ng-container matColumnDef="created_on">
              <mat-header-cell *matHeaderCellDef mat-sort-header>
                <span class="m-table-header"> Date </span>
              </mat-header-cell>
              <mat-cell *matCellDef="let element">
                {{ element.created_on | date : "MM-dd-yyyy H:mm:ss" }}
              </mat-cell>
            </ng-container>

            <mat-header-row
              *matHeaderRowDef="displayedPaymentColumns"
            ></mat-header-row>
            <mat-row
              *matRowDef="let row; columns: displayedPaymentColumns"
            ></mat-row>
          </mat-table>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
</div>
