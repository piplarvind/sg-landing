<div class="m-container">
  <div class="row">
    <div class="banner-text text-center">
      <h4>Install our mobile application for more functionality</h4>
      <ul class="home-ul">
        <li>
          <a [href]="ios_app_url" target="_blank"
            ><img
              src="./assets/images/appstore.png"
              class="wow fadeInUp"
              data-wow-delay="0.4s"
              alt=""
          /></a>
        </li>
        <li>
          <a [href]="android_app_url" target="_blank"
            ><img
              src="./assets/images/playstore.png"
              class="wow fadeInUp"
              data-wow-delay="0.7s"
              alt=""
          /></a>
        </li>
      </ul>
    </div>
  </div>
  <div class="card-container main-static" fxLayout="column" fxLayout.xs="row">
    <mat-card
      class="card-item"
      *ngIf="user_role === 'ATH'"
      fxFlex="100"
      fxFlex.xs="50"
    >
      <mat-card-content>
        <div fxLayout="row" fxLayoutAlign="space-between">
          <div fxLayout="column" fxLayoutAlign="start start">
            <div class="user-count">{{ parentCount }}</div>
            <div class="card-label">Parents</div>
          </div>
        </div>
      </mat-card-content>
    </mat-card>

    <mat-card
      class="card-item"
      *ngIf="user_role === 'PAR'"
      fxFlex="100"
      fxFlex.xs="50"
    >
      <mat-card-content>
        <div fxLayout="row" fxLayoutAlign="space-between">
          <div fxLayout="column" fxLayoutAlign="start start">
            <div class="user-count">{{ athleteCount }}</div>
            <div class="card-label">Athletes</div>
          </div>
        </div>
      </mat-card-content>
    </mat-card>

    <mat-card
      class="card-item"
      *ngIf="user_role === 'FFF'"
      fxFlex="100"
      fxFlex.xs="50"
    >
      <mat-card-content>
        <div fxLayout="row" fxLayoutAlign="space-between">
          <div fxLayout="column" fxLayoutAlign="start start">
            <div class="user-count">{{ fffCount }}</div>
            <div class="card-label">Friends Family Fans</div>
          </div>
        </div>
      </mat-card-content>
    </mat-card>

    <mat-card
      class="card-item"
      *ngIf="user_role === 'ATH' || user_role === 'FFF'"
      fxFlex="100"
      fxFlex.xs="50"
    >
      <mat-card-content>
        <div fxLayout="row" fxLayoutAlign="space-between">
          <div fxLayout="column" fxLayoutAlign="start start">
            <div class="user-count">{{ successfullPayment }}</div>
            <div class="card-label">Payments</div>
          </div>
        </div>
      </mat-card-content>
    </mat-card>
  </div>

  <div fxLayout.xs="column" fxLayout.gt-xs="row" fxLayoutAlign="start stretch" fxLayoutGap="16px">
    <mat-card fxFlex="100%" class="new-mat-card" *ngIf="user_role === 'PAR'">
      <mat-card-title
        fxLayout="row"
        fxLayoutGap="8px"
        fxLayoutAlign="start center"
      >
        <span style="flex: 1">My Athletes</span>

        <div class="m-title" fxLayout="row" fxLayoutAlign="end">
          <div class="head-right-div">
            <div class="mt-3">
              <button
                mat-raised-button
                routerLink="/account/my-athletes"
                color="warn"
              >
                View All
              </button>
            </div>
          </div>
        </div>
      </mat-card-title>
      <mat-card-content>
        <div class="m-table-container">
          <mat-table #table [dataSource]="dataSourceAthletes" matSort>
            <ng-container matColumnDef="name">
              <mat-header-cell *matHeaderCellDef mat-sort-header>
                <span class="m-table-header"> Name </span>
              </mat-header-cell>
              <mat-cell *matCellDef="let element" class="light-red m-pointer">
                {{ element.name }}
              </mat-cell>
            </ng-container>

            <ng-container matColumnDef="email">
              <mat-header-cell *matHeaderCellDef mat-sort-header>
                <span class="m-table-header"> Email </span>
              </mat-header-cell>
              <mat-cell *matCellDef="let element">
                {{ element.email }}
              </mat-cell>
            </ng-container>

            <mat-header-row
              *matHeaderRowDef="displayedColumns"
            ></mat-header-row>
            <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
          </mat-table>
        </div>
      </mat-card-content>
    </mat-card>
    <mat-card fxFlex="100%" class="new-mat-card" *ngIf="user_role === 'ATH'">
      <mat-card-title
        fxLayout="row"
        fxLayoutGap="8px"
        fxLayoutAlign="start center"
      >
        <span style="flex: 1">My Parents</span>

        <div class="m-title" fxLayout="row" fxLayoutAlign="end">
          <div class="head-right-div">
            <div class="mt-3">
              <button
                mat-raised-button
                routerLink="/account/my-parents"
                color="warn"
              >
                View All
              </button>
            </div>
          </div>
        </div>
      </mat-card-title>
      <mat-card-content>
        <div class="m-table-container">
          <mat-table #table [dataSource]="dataSourceParents" matSort>
            <ng-container matColumnDef="name">
              <mat-header-cell *matHeaderCellDef mat-sort-header>
                <span class="m-table-header"> Name </span>
              </mat-header-cell>
              <mat-cell *matCellDef="let element" class="light-red m-pointer">
                {{ element.name }}
              </mat-cell>
            </ng-container>

            <ng-container matColumnDef="email">
              <mat-header-cell *matHeaderCellDef mat-sort-header>
                <span class="m-table-header"> Email </span>
              </mat-header-cell>
              <mat-cell *matCellDef="let element">
                {{ element.email }}
              </mat-cell>
            </ng-container>

            <mat-header-row
              *matHeaderRowDef="displayedColumns"
            ></mat-header-row>
            <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
          </mat-table>
        </div>
      </mat-card-content>
    </mat-card>
    <mat-card fxFlex="100%" class="new-mat-card" *ngIf="user_role === 'FFF'">
      <mat-card-title
        fxLayout="row"
        fxLayoutGap="8px"
        fxLayoutAlign="start center"
      >
        <span style="flex: 1">My Friends Family & Fans</span>

        <div class="m-title" fxLayout="row" fxLayoutAlign="end">
          <div class="head-right-div">
            <div class="mt-3">
              <button
                mat-raised-button
                routerLink="/account/my-fff"
                color="warn"
              >
                View All
              </button>
            </div>
          </div>
        </div>
      </mat-card-title>
      <mat-card-content>
        <div class="m-table-container">
          <mat-table #table [dataSource]="dataSourceFFF" matSort>
            <ng-container matColumnDef="name">
              <mat-header-cell *matHeaderCellDef mat-sort-header>
                <span class="m-table-header"> Name </span>
              </mat-header-cell>
              <mat-cell *matCellDef="let element" class="light-red m-pointer">
                {{ element.name }}
              </mat-cell>
            </ng-container>

            <ng-container matColumnDef="email">
              <mat-header-cell *matHeaderCellDef mat-sort-header>
                <span class="m-table-header"> Email </span>
              </mat-header-cell>
              <mat-cell *matCellDef="let element">
                {{ element.email }}
              </mat-cell>
            </ng-container>

            <mat-header-row
              *matHeaderRowDef="displayedColumns"
            ></mat-header-row>
            <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
          </mat-table>
        </div>
      </mat-card-content>
    </mat-card>
    <mat-card
      fxFlex="100%"
      class="new-mat-card"
      *ngIf="user_role === 'ATH' || user_role === 'FFF'"
    >
      <mat-card-title
        fxLayout="row"
        fxLayoutGap="8px"
        fxLayoutAlign="start center"
      >
        <span style="flex: 1">Recent Payments</span>
        <div class="m-title" fxLayout="row" fxLayoutAlign="end">
          <div class="head-right-div">
            <div class="mt-3">
              <button
                mat-raised-button
                routerLink="/account/payments"
                color="warn"
              >
                View All
              </button>
            </div>
          </div>
        </div>
      </mat-card-title>
      <mat-card-content>
        <div class="m-table-container">
          <mat-table #table [dataSource]="dataSourcePayments" matSort>
            <ng-container matColumnDef="amount">
              <mat-header-cell *matHeaderCellDef mat-sort-header>
                <span class="m-table-header"> Amount </span>
              </mat-header-cell>
              <mat-cell
                *matCellDef="let element"
                class="light-red m-pointer"
                (click)="editClub(element)"
              >
                $ {{ element.amount }}
              </mat-cell>
            </ng-container>

            <ng-container matColumnDef="created_on">
              <mat-header-cell *matHeaderCellDef mat-sort-header>
                <span class="m-table-header"> Date </span>
              </mat-header-cell>
              <mat-cell *matCellDef="let element">
                {{ element.created_on | date : "MM-dd-yyyy H:mm:ss" }}
              </mat-cell>
            </ng-container>

            <mat-header-row
              *matHeaderRowDef="displayedPaymentColumns"
            ></mat-header-row>
            <mat-row
              *matRowDef="let row; columns: displayedPaymentColumns"
            ></mat-row>
          </mat-table>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
</div>
