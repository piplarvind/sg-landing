import { Component, OnInit } from "@angular/core";
import { finalize, map } from "rxjs/operators";
// import { ClubsService } from "@app/clubs/clubs.service";
// import { SharedService } from "@app/shared/shared.service";
// import { QuoteService } from "@app/home/quote.service";
// import { DashboardService } from "./dashboard.service";
import { Router } from "@angular/router";
import { DomSanitizer } from "@angular/platform-browser";
// import { SportsService } from "@app/sports/sports.service";
// import { TeamsService } from "@app/teams/teams.service";

@Component({
  selector: "app-dashboard",
  templateUrl: "./dashboard.component.html",
  styleUrls: ["./dashboard.component.scss"],
})
export class DashboardComponent implements OnInit {
  startDate: Date; // Initialize this with the start date
  endDate: Date; // Initialize this with the end date
  totalSports: number = 0;
  totalClubs: number = 0;
  overallStaticsData: any;
  staticsData: any;
  quote: string;
  isLoading: boolean;
  isSuperAdmin: Boolean = false;
  clubsList: Array<any>;
  dashboardStates = [
    { name: "User Types", userCount: 0 },
    { name: "No. of Users", userCount: 0 },
    { name: "No. of Atheletes", userCount: 0 },
    { name: "No. of Coachs", userCount: 0 },
    // Add more states with user count
  ];

  constructor(
    // private sportsService: SportsService,
    // private dashboardService: DashboardService,
    // private quoteService: QuoteService,
    // private clubService: ClubsService,
    // private teamsService: TeamsService,
    // public sharedService: SharedService,
    private router: Router,
    private sanitizer: DomSanitizer
  ) {
    /* this.sharedService.selectedValue$.subscribe((selectedValue) => {
      const sport_id = localStorage.sport_id;
      const club_id = localStorage.club_id;
      let url = "";
      if (typeof sport_id !== "undefined" && sport_id !== "undefined") {
        url += `?sport=${sport_id}`;
      }

      if (typeof club_id !== "undefined" && club_id !== "undefined") {
        url += `${url.length ? "&" : "?"}club=${club_id}`;
      }
      //console.log("club_id", club_id);
      this.dashboardService
        .getOverallStaticsData(url)
        .then((e: any) => {
          this.overallStaticsData = e;
        })
        .catch((err) => {});

      this.dashboardService
        .getStaticsData(url)
        .then((e: any) => {
          this.staticsData = e.data;
          // this.dashboardStates = e.data;
          if (e.data) {
            this.dashboardStates = e.data.map((state) => {
              let icon = "";
              let name = "";
              if (state.abbr === "ATH") {
                icon = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
              <mask id="mask0_945_2029" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="16" height="16">
                <rect width="16" height="16" fill="#D9D9D9"/>
              </mask>
              <g mask="url(#mask0_945_2029)">
                <path d="M8.66667 15.3333V11.3333L7.26667 10L6.6 12.9333L2 12L2.26667 10.6667L5.46667 11.3333L6.53333 5.93333L5.33333 6.4V8.66667H4V5.53333L6.63333 4.4C7.02222 4.23333 7.30833 4.125 7.49167 4.075C7.675 4.025 7.84444 4 8 4C8.23333 4 8.45 4.06111 8.65 4.18333C8.85 4.30556 9.01111 4.46667 9.13333 4.66667L9.8 5.73333C10.0889 6.2 10.4806 6.58333 10.975 6.88333C11.4694 7.18333 12.0333 7.33333 12.6667 7.33333V8.66667C11.9333 8.66667 11.2472 8.51389 10.6083 8.20833C9.96944 7.90278 9.43333 7.5 9 7L8.6 9L10 10.3333V15.3333H8.66667ZM9 3.66667C8.63333 3.66667 8.31945 3.53611 8.05833 3.275C7.79722 3.01389 7.66667 2.7 7.66667 2.33333C7.66667 1.96667 7.79722 1.65278 8.05833 1.39167C8.31945 1.13056 8.63333 1 9 1C9.36667 1 9.68056 1.13056 9.94167 1.39167C10.2028 1.65278 10.3333 1.96667 10.3333 2.33333C10.3333 2.7 10.2028 3.01389 9.94167 3.275C9.68056 3.53611 9.36667 3.66667 9 3.66667Z" fill="white"/>
              </g>
            </svg>`;
                name = "Athletes";
              } else if (state.abbr === "PAR") {
                icon = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
              <mask id="mask0_945_2013" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="16" height="16">
                <rect width="16" height="16" fill="#D9D9D9"/>
              </mask>
              <g mask="url(#mask0_945_2013)">
                <path d="M1.33334 13.3333V11.4666C1.33334 11.0888 1.42779 10.7416 1.61668 10.425C1.80557 10.1083 2.06668 9.86663 2.40001 9.69996C3.06668 9.36663 3.75834 9.11107 4.47501 8.93329C5.19168 8.75552 5.92223 8.66663 6.66668 8.66663C6.94445 8.66663 7.22223 8.68607 7.50001 8.72496C7.77779 8.76385 8.05557 8.81107 8.33334 8.86663V9.91663C7.83334 10.1611 7.43057 10.4833 7.12501 10.8833C6.81945 11.2833 6.66668 11.8055 6.66668 12.45V13.3333H1.33334ZM8.00001 13.3333V12.4C8.00001 12.1333 8.06945 11.8861 8.20834 11.6583C8.34723 11.4305 8.54445 11.2666 8.80001 11.1666C9.20001 11 9.6139 10.875 10.0417 10.7916C10.4695 10.7083 10.9 10.6666 11.3333 10.6666C11.7667 10.6666 12.1972 10.7083 12.625 10.7916C13.0528 10.875 13.4667 11 13.8667 11.1666C14.1222 11.2666 14.3195 11.4305 14.4583 11.6583C14.5972 11.8861 14.6667 12.1333 14.6667 12.4V13.3333H8.00001ZM11.3333 9.99996C10.8667 9.99996 10.4722 9.83885 10.15 9.51663C9.82779 9.1944 9.66668 8.79996 9.66668 8.33329C9.66668 7.86663 9.82779 7.47218 10.15 7.14996C10.4722 6.82774 10.8667 6.66663 11.3333 6.66663C11.8 6.66663 12.1945 6.82774 12.5167 7.14996C12.8389 7.47218 13 7.86663 13 8.33329C13 8.79996 12.8389 9.1944 12.5167 9.51663C12.1945 9.83885 11.8 9.99996 11.3333 9.99996ZM6.66668 7.99996C5.93334 7.99996 5.30557 7.73885 4.78334 7.21663C4.26112 6.6944 4.00001 6.06663 4.00001 5.33329C4.00001 4.59996 4.26112 3.97218 4.78334 3.44996C5.30557 2.92774 5.93334 2.66663 6.66668 2.66663C7.40001 2.66663 8.02779 2.92774 8.55001 3.44996C9.07223 3.97218 9.33334 4.59996 9.33334 5.33329C9.33334 6.06663 9.07223 6.6944 8.55001 7.21663C8.02779 7.73885 7.40001 7.99996 6.66668 7.99996Z" fill="white"/>
              </g>
            </svg>`;
                name = "Parents";
              } else if (state.abbr === "FFF") {
                icon = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
              <mask id="mask0_945_1997" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="16" height="16">
                <rect width="16" height="16" fill="#D9D9D9"/>
              </mask>
              <g mask="url(#mask0_945_1997)">
                <path d="M0.666687 13.3333V10.6666C0.666687 10.2888 0.797243 9.97218 1.05835 9.71663C1.31946 9.46107 1.63335 9.33329 2.00002 9.33329H4.18335C4.40558 9.33329 4.61669 9.38885 4.81669 9.49996C5.01669 9.61107 5.1778 9.76107 5.30002 9.94996C5.62224 10.3833 6.01946 10.7222 6.49169 10.9666C6.96391 11.2111 7.46669 11.3333 8.00002 11.3333C8.54447 11.3333 9.0528 11.2111 9.52502 10.9666C9.99724 10.7222 10.3889 10.3833 10.7 9.94996C10.8445 9.76107 11.0139 9.61107 11.2084 9.49996C11.4028 9.38885 11.6056 9.33329 11.8167 9.33329H14C14.3778 9.33329 14.6945 9.46107 14.95 9.71663C15.2056 9.97218 15.3334 10.2888 15.3334 10.6666V13.3333H10.6667V11.8166C10.2778 12.0944 9.85835 12.3055 9.40835 12.45C8.95835 12.5944 8.48891 12.6666 8.00002 12.6666C7.52224 12.6666 7.05558 12.5916 6.60002 12.4416C6.14447 12.2916 5.72224 12.0777 5.33335 11.8V13.3333H0.666687ZM8.00002 10.6666C7.5778 10.6666 7.1778 10.5694 6.80002 10.375C6.42224 10.1805 6.10558 9.91107 5.85002 9.56663C5.66113 9.28885 5.42502 9.0694 5.14169 8.90829C4.85835 8.74718 4.55002 8.66663 4.21669 8.66663C4.46113 8.25552 4.9778 7.93051 5.76669 7.69163C6.55558 7.45274 7.30002 7.33329 8.00002 7.33329C8.70002 7.33329 9.44447 7.45274 10.2334 7.69163C11.0222 7.93051 11.5389 8.25552 11.7834 8.66663C11.4611 8.66663 11.1556 8.74718 10.8667 8.90829C10.5778 9.0694 10.3389 9.28885 10.15 9.56663C9.90558 9.92218 9.59447 10.1944 9.21669 10.3833C8.83891 10.5722 8.43335 10.6666 8.00002 10.6666ZM2.66669 8.66663C2.11113 8.66663 1.63891 8.47218 1.25002 8.08329C0.861131 7.6944 0.666687 7.22218 0.666687 6.66663C0.666687 6.09996 0.861131 5.62496 1.25002 5.24163C1.63891 4.85829 2.11113 4.66663 2.66669 4.66663C3.23335 4.66663 3.70835 4.85829 4.09169 5.24163C4.47502 5.62496 4.66669 6.09996 4.66669 6.66663C4.66669 7.22218 4.47502 7.6944 4.09169 8.08329C3.70835 8.47218 3.23335 8.66663 2.66669 8.66663ZM13.3334 8.66663C12.7778 8.66663 12.3056 8.47218 11.9167 8.08329C11.5278 7.6944 11.3334 7.22218 11.3334 6.66663C11.3334 6.09996 11.5278 5.62496 11.9167 5.24163C12.3056 4.85829 12.7778 4.66663 13.3334 4.66663C13.9 4.66663 14.375 4.85829 14.7584 5.24163C15.1417 5.62496 15.3334 6.09996 15.3334 6.66663C15.3334 7.22218 15.1417 7.6944 14.7584 8.08329C14.375 8.47218 13.9 8.66663 13.3334 8.66663ZM8.00002 6.66663C7.44447 6.66663 6.97224 6.47218 6.58335 6.08329C6.19447 5.6944 6.00002 5.22218 6.00002 4.66663C6.00002 4.09996 6.19447 3.62496 6.58335 3.24163C6.97224 2.85829 7.44447 2.66663 8.00002 2.66663C8.56669 2.66663 9.04169 2.85829 9.42502 3.24163C9.80835 3.62496 10 4.09996 10 4.66663C10 5.22218 9.80835 5.6944 9.42502 6.08329C9.04169 6.47218 8.56669 6.66663 8.00002 6.66663Z" fill="white"/>
              </g>
            </svg>`;
                name = "Family-Friends-Fans";
              } else if (state.abbr === "COA") {
                icon = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
              <mask id="mask0_945_2061" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="16" height="16">
                <rect width="16" height="16" fill="#D9D9D9"/>
              </mask>
              <g mask="url(#mask0_945_2061)">
                <path d="M0.666667 13.3333V11.4666C0.666667 11.0888 0.763889 10.7416 0.958333 10.425C1.15278 10.1083 1.41111 9.86663 1.73333 9.69996C2.42222 9.35552 3.12222 9.09718 3.83333 8.92496C4.54444 8.75274 5.26667 8.66663 6 8.66663C6.73333 8.66663 7.45556 8.75274 8.16667 8.92496C8.87778 9.09718 9.57778 9.35552 10.2667 9.69996C10.5889 9.86663 10.8472 10.1083 11.0417 10.425C11.2361 10.7416 11.3333 11.0888 11.3333 11.4666V13.3333H0.666667ZM12.6667 13.3333V11.3333C12.6667 10.8444 12.5306 10.375 12.2583 9.92496C11.9861 9.47496 11.6 9.08885 11.1 8.76663C11.6667 8.83329 12.2 8.94718 12.7 9.10829C13.2 9.2694 13.6667 9.46663 14.1 9.69996C14.5 9.92218 14.8056 10.1694 15.0167 10.4416C15.2278 10.7138 15.3333 11.0111 15.3333 11.3333V13.3333H12.6667ZM6 7.99996C5.26667 7.99996 4.63889 7.73885 4.11667 7.21663C3.59444 6.6944 3.33333 6.06663 3.33333 5.33329C3.33333 4.59996 3.59444 3.97218 4.11667 3.44996C4.63889 2.92774 5.26667 2.66663 6 2.66663C6.73333 2.66663 7.36111 2.92774 7.88333 3.44996C8.40556 3.97218 8.66667 4.59996 8.66667 5.33329C8.66667 6.06663 8.40556 6.6944 7.88333 7.21663C7.36111 7.73885 6.73333 7.99996 6 7.99996ZM12.6667 5.33329C12.6667 6.06663 12.4056 6.6944 11.8833 7.21663C11.3611 7.73885 10.7333 7.99996 10 7.99996C9.87778 7.99996 9.72222 7.98607 9.53333 7.95829C9.34444 7.93051 9.18889 7.89996 9.06667 7.86663C9.36667 7.51107 9.59722 7.11663 9.75833 6.68329C9.91944 6.24996 10 5.79996 10 5.33329C10 4.86663 9.91944 4.41663 9.75833 3.98329C9.59722 3.54996 9.36667 3.15551 9.06667 2.79996C9.22222 2.7444 9.37778 2.70829 9.53333 2.69163C9.68889 2.67496 9.84444 2.66663 10 2.66663C10.7333 2.66663 11.3611 2.92774 11.8833 3.44996C12.4056 3.97218 12.6667 4.59996 12.6667 5.33329ZM2 12H10V11.4666C10 11.3444 9.96944 11.2333 9.90833 11.1333C9.84722 11.0333 9.76667 10.9555 9.66667 10.9C9.06667 10.6 8.46111 10.375 7.85 10.225C7.23889 10.075 6.62222 9.99996 6 9.99996C5.37778 9.99996 4.76111 10.075 4.15 10.225C3.53889 10.375 2.93333 10.6 2.33333 10.9C2.23333 10.9555 2.15278 11.0333 2.09167 11.1333C2.03056 11.2333 2 11.3444 2 11.4666V12ZM6 6.66663C6.36667 6.66663 6.68056 6.53607 6.94167 6.27496C7.20278 6.01385 7.33333 5.69996 7.33333 5.33329C7.33333 4.96663 7.20278 4.65274 6.94167 4.39163C6.68056 4.13051 6.36667 3.99996 6 3.99996C5.63333 3.99996 5.31944 4.13051 5.05833 4.39163C4.79722 4.65274 4.66667 4.96663 4.66667 5.33329C4.66667 5.69996 4.79722 6.01385 5.05833 6.27496C5.31944 6.53607 5.63333 6.66663 6 6.66663Z" fill="white"/>
              </g>
            </svg>`;
                name = "Coaches";
              } else if (state.abbr === "CAD") {
                icon = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
              <mask id="mask0_945_2077" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="16" height="16">
                <rect width="16" height="16" fill="#D9D9D9"/>
              </mask>
              <g mask="url(#mask0_945_2077)">
                <path d="M7.99999 8.66671C8.64443 8.66671 9.19443 8.43893 9.64999 7.98337C10.1055 7.52782 10.3333 6.97782 10.3333 6.33337C10.3333 5.68893 10.1055 5.13893 9.64999 4.68337C9.19443 4.22782 8.64443 4.00004 7.99999 4.00004C7.35555 4.00004 6.80555 4.22782 6.34999 4.68337C5.89443 5.13893 5.66666 5.68893 5.66666 6.33337C5.66666 6.97782 5.89443 7.52782 6.34999 7.98337C6.80555 8.43893 7.35555 8.66671 7.99999 8.66671ZM7.99999 14.6667C6.37777 14.2556 5.08332 13.3667 4.11666 12C3.14999 10.6334 2.66666 9.10004 2.66666 7.40004V3.33337L7.99999 1.33337L13.3333 3.33337V7.40004C13.3333 9.10004 12.85 10.6334 11.8833 12C10.9167 13.3667 9.62221 14.2556 7.99999 14.6667ZM7.99999 13.2667C8.65555 13.0556 9.2361 12.725 9.74166 12.275C10.2472 11.825 10.6889 11.3167 11.0667 10.75C10.5889 10.5056 10.0917 10.3195 9.57499 10.1917C9.05832 10.0639 8.53332 10 7.99999 10C7.46666 10 6.94166 10.0639 6.42499 10.1917C5.90832 10.3195 5.4111 10.5056 4.93332 10.75C5.3111 11.3167 5.75277 11.825 6.25832 12.275C6.76388 12.725 7.34443 13.0556 7.99999 13.2667Z" fill="white"/>
              </g>
            </svg>`;
                name = "Club Admins";
              } else if (state.abbr === "REC") {
                icon = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
              <mask id="mask0_945_2045" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="16" height="16">
                <rect width="16" height="16" fill="#D9D9D9"/>
              </mask>
              <g mask="url(#mask0_945_2077)">
                <path d="M7.99999 8.66671C8.64443 8.66671 9.19443 8.43893 9.64999 7.98337C10.1055 7.52782 10.3333 6.97782 10.3333 6.33337C10.3333 5.68893 10.1055 5.13893 9.64999 4.68337C9.19443 4.22782 8.64443 4.00004 7.99999 4.00004C7.35555 4.00004 6.80555 4.22782 6.34999 4.68337C5.89443 5.13893 5.66666 5.68893 5.66666 6.33337C5.66666 6.97782 5.89443 7.52782 6.34999 7.98337C6.80555 8.43893 7.35555 8.66671 7.99999 8.66671ZM7.99999 14.6667C6.37777 14.2556 5.08332 13.3667 4.11666 12C3.14999 10.6334 2.66666 9.10004 2.66666 7.40004V3.33337L7.99999 1.33337L13.3333 3.33337V7.40004C13.3333 9.10004 12.85 10.6334 11.8833 12C10.9167 13.3667 9.62221 14.2556 7.99999 14.6667ZM7.99999 13.2667C8.65555 13.0556 9.2361 12.725 9.74166 12.275C10.2472 11.825 10.6889 11.3167 11.0667 10.75C10.5889 10.5056 10.0917 10.3195 9.57499 10.1917C9.05832 10.0639 8.53332 10 7.99999 10C7.46666 10 6.94166 10.0639 6.42499 10.1917C5.90832 10.3195 5.4111 10.5056 4.93332 10.75C5.3111 11.3167 5.75277 11.825 6.25832 12.275C6.76388 12.725 7.34443 13.0556 7.99999 13.2667Z" fill="white"/>
              </g>
            </svg>`;
                name = "Recruiters (all)";
              }
              return {
                ...state,
                userCount:
                  state.userCount === 0
                    ? "0"
                    : state.userCount < 10
                    ? "0" + state.userCount
                    : state.userCount,
                icon: this.sanitizer.bypassSecurityTrustHtml(icon),
                name,
                // icon: icon
              };
            });
          }
        })
        .catch((err: any) => {
          console.log("err in statics data", err);
        });
    }); */
  }

  get remainingDays(): number {
    const currentTime = new Date().getTime();
    this.endDate = new Date(localStorage.getItem("super_cur_seasonEndDate"));

    const timeDifference = this.endDate.getTime() - currentTime;
    // Calculate remaining days by dividing milliseconds by (milliseconds in a day)
    const remainingDays = Math.ceil(timeDifference / (1000 * 60 * 60 * 24));
    return remainingDays >= 0 ? remainingDays : 0; // Ensure the result is non-negative
  }

  get seasonName(): string {
    return localStorage.getItem("super_cur_seasonName");
  }

  ngOnInit() {
    /* this.dashboardService
      .getStaticsData()
      .then((e: any) => {
        this.staticsData = e.data;
        // this.dashboardStates = e.data;
        if (e.data) {
          this.dashboardStates = e.data.map((state) => {
            let icon = "";
            let name = "";
            if (state.abbr === "ATH") {
              icon = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
              <mask id="mask0_945_2029" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="16" height="16">
                <rect width="16" height="16" fill="#D9D9D9"/>
              </mask>
              <g mask="url(#mask0_945_2029)">
                <path d="M8.66667 15.3333V11.3333L7.26667 10L6.6 12.9333L2 12L2.26667 10.6667L5.46667 11.3333L6.53333 5.93333L5.33333 6.4V8.66667H4V5.53333L6.63333 4.4C7.02222 4.23333 7.30833 4.125 7.49167 4.075C7.675 4.025 7.84444 4 8 4C8.23333 4 8.45 4.06111 8.65 4.18333C8.85 4.30556 9.01111 4.46667 9.13333 4.66667L9.8 5.73333C10.0889 6.2 10.4806 6.58333 10.975 6.88333C11.4694 7.18333 12.0333 7.33333 12.6667 7.33333V8.66667C11.9333 8.66667 11.2472 8.51389 10.6083 8.20833C9.96944 7.90278 9.43333 7.5 9 7L8.6 9L10 10.3333V15.3333H8.66667ZM9 3.66667C8.63333 3.66667 8.31945 3.53611 8.05833 3.275C7.79722 3.01389 7.66667 2.7 7.66667 2.33333C7.66667 1.96667 7.79722 1.65278 8.05833 1.39167C8.31945 1.13056 8.63333 1 9 1C9.36667 1 9.68056 1.13056 9.94167 1.39167C10.2028 1.65278 10.3333 1.96667 10.3333 2.33333C10.3333 2.7 10.2028 3.01389 9.94167 3.275C9.68056 3.53611 9.36667 3.66667 9 3.66667Z" fill="white"/>
              </g>
            </svg>`;
              name = "Athletes";
            } else if (state.abbr === "PAR") {
              icon = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
              <mask id="mask0_945_2013" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="16" height="16">
                <rect width="16" height="16" fill="#D9D9D9"/>
              </mask>
              <g mask="url(#mask0_945_2013)">
                <path d="M1.33334 13.3333V11.4666C1.33334 11.0888 1.42779 10.7416 1.61668 10.425C1.80557 10.1083 2.06668 9.86663 2.40001 9.69996C3.06668 9.36663 3.75834 9.11107 4.47501 8.93329C5.19168 8.75552 5.92223 8.66663 6.66668 8.66663C6.94445 8.66663 7.22223 8.68607 7.50001 8.72496C7.77779 8.76385 8.05557 8.81107 8.33334 8.86663V9.91663C7.83334 10.1611 7.43057 10.4833 7.12501 10.8833C6.81945 11.2833 6.66668 11.8055 6.66668 12.45V13.3333H1.33334ZM8.00001 13.3333V12.4C8.00001 12.1333 8.06945 11.8861 8.20834 11.6583C8.34723 11.4305 8.54445 11.2666 8.80001 11.1666C9.20001 11 9.6139 10.875 10.0417 10.7916C10.4695 10.7083 10.9 10.6666 11.3333 10.6666C11.7667 10.6666 12.1972 10.7083 12.625 10.7916C13.0528 10.875 13.4667 11 13.8667 11.1666C14.1222 11.2666 14.3195 11.4305 14.4583 11.6583C14.5972 11.8861 14.6667 12.1333 14.6667 12.4V13.3333H8.00001ZM11.3333 9.99996C10.8667 9.99996 10.4722 9.83885 10.15 9.51663C9.82779 9.1944 9.66668 8.79996 9.66668 8.33329C9.66668 7.86663 9.82779 7.47218 10.15 7.14996C10.4722 6.82774 10.8667 6.66663 11.3333 6.66663C11.8 6.66663 12.1945 6.82774 12.5167 7.14996C12.8389 7.47218 13 7.86663 13 8.33329C13 8.79996 12.8389 9.1944 12.5167 9.51663C12.1945 9.83885 11.8 9.99996 11.3333 9.99996ZM6.66668 7.99996C5.93334 7.99996 5.30557 7.73885 4.78334 7.21663C4.26112 6.6944 4.00001 6.06663 4.00001 5.33329C4.00001 4.59996 4.26112 3.97218 4.78334 3.44996C5.30557 2.92774 5.93334 2.66663 6.66668 2.66663C7.40001 2.66663 8.02779 2.92774 8.55001 3.44996C9.07223 3.97218 9.33334 4.59996 9.33334 5.33329C9.33334 6.06663 9.07223 6.6944 8.55001 7.21663C8.02779 7.73885 7.40001 7.99996 6.66668 7.99996Z" fill="white"/>
              </g>
            </svg>`;
              name = "Parents";
            } else if (state.abbr === "FFF") {
              icon = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
              <mask id="mask0_945_1997" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="16" height="16">
                <rect width="16" height="16" fill="#D9D9D9"/>
              </mask>
              <g mask="url(#mask0_945_1997)">
                <path d="M0.666687 13.3333V10.6666C0.666687 10.2888 0.797243 9.97218 1.05835 9.71663C1.31946 9.46107 1.63335 9.33329 2.00002 9.33329H4.18335C4.40558 9.33329 4.61669 9.38885 4.81669 9.49996C5.01669 9.61107 5.1778 9.76107 5.30002 9.94996C5.62224 10.3833 6.01946 10.7222 6.49169 10.9666C6.96391 11.2111 7.46669 11.3333 8.00002 11.3333C8.54447 11.3333 9.0528 11.2111 9.52502 10.9666C9.99724 10.7222 10.3889 10.3833 10.7 9.94996C10.8445 9.76107 11.0139 9.61107 11.2084 9.49996C11.4028 9.38885 11.6056 9.33329 11.8167 9.33329H14C14.3778 9.33329 14.6945 9.46107 14.95 9.71663C15.2056 9.97218 15.3334 10.2888 15.3334 10.6666V13.3333H10.6667V11.8166C10.2778 12.0944 9.85835 12.3055 9.40835 12.45C8.95835 12.5944 8.48891 12.6666 8.00002 12.6666C7.52224 12.6666 7.05558 12.5916 6.60002 12.4416C6.14447 12.2916 5.72224 12.0777 5.33335 11.8V13.3333H0.666687ZM8.00002 10.6666C7.5778 10.6666 7.1778 10.5694 6.80002 10.375C6.42224 10.1805 6.10558 9.91107 5.85002 9.56663C5.66113 9.28885 5.42502 9.0694 5.14169 8.90829C4.85835 8.74718 4.55002 8.66663 4.21669 8.66663C4.46113 8.25552 4.9778 7.93051 5.76669 7.69163C6.55558 7.45274 7.30002 7.33329 8.00002 7.33329C8.70002 7.33329 9.44447 7.45274 10.2334 7.69163C11.0222 7.93051 11.5389 8.25552 11.7834 8.66663C11.4611 8.66663 11.1556 8.74718 10.8667 8.90829C10.5778 9.0694 10.3389 9.28885 10.15 9.56663C9.90558 9.92218 9.59447 10.1944 9.21669 10.3833C8.83891 10.5722 8.43335 10.6666 8.00002 10.6666ZM2.66669 8.66663C2.11113 8.66663 1.63891 8.47218 1.25002 8.08329C0.861131 7.6944 0.666687 7.22218 0.666687 6.66663C0.666687 6.09996 0.861131 5.62496 1.25002 5.24163C1.63891 4.85829 2.11113 4.66663 2.66669 4.66663C3.23335 4.66663 3.70835 4.85829 4.09169 5.24163C4.47502 5.62496 4.66669 6.09996 4.66669 6.66663C4.66669 7.22218 4.47502 7.6944 4.09169 8.08329C3.70835 8.47218 3.23335 8.66663 2.66669 8.66663ZM13.3334 8.66663C12.7778 8.66663 12.3056 8.47218 11.9167 8.08329C11.5278 7.6944 11.3334 7.22218 11.3334 6.66663C11.3334 6.09996 11.5278 5.62496 11.9167 5.24163C12.3056 4.85829 12.7778 4.66663 13.3334 4.66663C13.9 4.66663 14.375 4.85829 14.7584 5.24163C15.1417 5.62496 15.3334 6.09996 15.3334 6.66663C15.3334 7.22218 15.1417 7.6944 14.7584 8.08329C14.375 8.47218 13.9 8.66663 13.3334 8.66663ZM8.00002 6.66663C7.44447 6.66663 6.97224 6.47218 6.58335 6.08329C6.19447 5.6944 6.00002 5.22218 6.00002 4.66663C6.00002 4.09996 6.19447 3.62496 6.58335 3.24163C6.97224 2.85829 7.44447 2.66663 8.00002 2.66663C8.56669 2.66663 9.04169 2.85829 9.42502 3.24163C9.80835 3.62496 10 4.09996 10 4.66663C10 5.22218 9.80835 5.6944 9.42502 6.08329C9.04169 6.47218 8.56669 6.66663 8.00002 6.66663Z" fill="white"/>
              </g>
            </svg>`;
              name = "Family-Friends-Fans";
            } else if (state.abbr === "COA") {
              icon = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
              <mask id="mask0_945_2061" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="16" height="16">
                <rect width="16" height="16" fill="#D9D9D9"/>
              </mask>
              <g mask="url(#mask0_945_2061)">
                <path d="M0.666667 13.3333V11.4666C0.666667 11.0888 0.763889 10.7416 0.958333 10.425C1.15278 10.1083 1.41111 9.86663 1.73333 9.69996C2.42222 9.35552 3.12222 9.09718 3.83333 8.92496C4.54444 8.75274 5.26667 8.66663 6 8.66663C6.73333 8.66663 7.45556 8.75274 8.16667 8.92496C8.87778 9.09718 9.57778 9.35552 10.2667 9.69996C10.5889 9.86663 10.8472 10.1083 11.0417 10.425C11.2361 10.7416 11.3333 11.0888 11.3333 11.4666V13.3333H0.666667ZM12.6667 13.3333V11.3333C12.6667 10.8444 12.5306 10.375 12.2583 9.92496C11.9861 9.47496 11.6 9.08885 11.1 8.76663C11.6667 8.83329 12.2 8.94718 12.7 9.10829C13.2 9.2694 13.6667 9.46663 14.1 9.69996C14.5 9.92218 14.8056 10.1694 15.0167 10.4416C15.2278 10.7138 15.3333 11.0111 15.3333 11.3333V13.3333H12.6667ZM6 7.99996C5.26667 7.99996 4.63889 7.73885 4.11667 7.21663C3.59444 6.6944 3.33333 6.06663 3.33333 5.33329C3.33333 4.59996 3.59444 3.97218 4.11667 3.44996C4.63889 2.92774 5.26667 2.66663 6 2.66663C6.73333 2.66663 7.36111 2.92774 7.88333 3.44996C8.40556 3.97218 8.66667 4.59996 8.66667 5.33329C8.66667 6.06663 8.40556 6.6944 7.88333 7.21663C7.36111 7.73885 6.73333 7.99996 6 7.99996ZM12.6667 5.33329C12.6667 6.06663 12.4056 6.6944 11.8833 7.21663C11.3611 7.73885 10.7333 7.99996 10 7.99996C9.87778 7.99996 9.72222 7.98607 9.53333 7.95829C9.34444 7.93051 9.18889 7.89996 9.06667 7.86663C9.36667 7.51107 9.59722 7.11663 9.75833 6.68329C9.91944 6.24996 10 5.79996 10 5.33329C10 4.86663 9.91944 4.41663 9.75833 3.98329C9.59722 3.54996 9.36667 3.15551 9.06667 2.79996C9.22222 2.7444 9.37778 2.70829 9.53333 2.69163C9.68889 2.67496 9.84444 2.66663 10 2.66663C10.7333 2.66663 11.3611 2.92774 11.8833 3.44996C12.4056 3.97218 12.6667 4.59996 12.6667 5.33329ZM2 12H10V11.4666C10 11.3444 9.96944 11.2333 9.90833 11.1333C9.84722 11.0333 9.76667 10.9555 9.66667 10.9C9.06667 10.6 8.46111 10.375 7.85 10.225C7.23889 10.075 6.62222 9.99996 6 9.99996C5.37778 9.99996 4.76111 10.075 4.15 10.225C3.53889 10.375 2.93333 10.6 2.33333 10.9C2.23333 10.9555 2.15278 11.0333 2.09167 11.1333C2.03056 11.2333 2 11.3444 2 11.4666V12ZM6 6.66663C6.36667 6.66663 6.68056 6.53607 6.94167 6.27496C7.20278 6.01385 7.33333 5.69996 7.33333 5.33329C7.33333 4.96663 7.20278 4.65274 6.94167 4.39163C6.68056 4.13051 6.36667 3.99996 6 3.99996C5.63333 3.99996 5.31944 4.13051 5.05833 4.39163C4.79722 4.65274 4.66667 4.96663 4.66667 5.33329C4.66667 5.69996 4.79722 6.01385 5.05833 6.27496C5.31944 6.53607 5.63333 6.66663 6 6.66663Z" fill="white"/>
              </g>
            </svg>`;
              name = "Coaches";
            } else if (state.abbr === "CAD") {
              icon = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
              <mask id="mask0_945_2077" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="16" height="16">
                <rect width="16" height="16" fill="#D9D9D9"/>
              </mask>
              <g mask="url(#mask0_945_2077)">
                <path d="M7.99999 8.66671C8.64443 8.66671 9.19443 8.43893 9.64999 7.98337C10.1055 7.52782 10.3333 6.97782 10.3333 6.33337C10.3333 5.68893 10.1055 5.13893 9.64999 4.68337C9.19443 4.22782 8.64443 4.00004 7.99999 4.00004C7.35555 4.00004 6.80555 4.22782 6.34999 4.68337C5.89443 5.13893 5.66666 5.68893 5.66666 6.33337C5.66666 6.97782 5.89443 7.52782 6.34999 7.98337C6.80555 8.43893 7.35555 8.66671 7.99999 8.66671ZM7.99999 14.6667C6.37777 14.2556 5.08332 13.3667 4.11666 12C3.14999 10.6334 2.66666 9.10004 2.66666 7.40004V3.33337L7.99999 1.33337L13.3333 3.33337V7.40004C13.3333 9.10004 12.85 10.6334 11.8833 12C10.9167 13.3667 9.62221 14.2556 7.99999 14.6667ZM7.99999 13.2667C8.65555 13.0556 9.2361 12.725 9.74166 12.275C10.2472 11.825 10.6889 11.3167 11.0667 10.75C10.5889 10.5056 10.0917 10.3195 9.57499 10.1917C9.05832 10.0639 8.53332 10 7.99999 10C7.46666 10 6.94166 10.0639 6.42499 10.1917C5.90832 10.3195 5.4111 10.5056 4.93332 10.75C5.3111 11.3167 5.75277 11.825 6.25832 12.275C6.76388 12.725 7.34443 13.0556 7.99999 13.2667Z" fill="white"/>
              </g>
            </svg>`;
              name = "Club Admins";
            } else if (state.abbr === "REC") {
              icon = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
              <mask id="mask0_945_2045" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="16" height="16">
                <rect width="16" height="16" fill="#D9D9D9"/>
              </mask>
              <g mask="url(#mask0_945_2045)">
                <path d="M7.33333 7.99996C6.6 7.99996 5.97222 7.73885 5.45 7.21663C4.92778 6.6944 4.66667 6.06663 4.66667 5.33329C4.66667 4.59996 4.92778 3.97218 5.45 3.44996C5.97222 2.92774 6.6 2.66663 7.33333 2.66663C8.06667 2.66663 8.69444 2.92774 9.21667 3.44996C9.73889 3.97218 10 4.59996 10 5.33329C10 6.06663 9.73889 6.6944 9.21667 7.21663C8.69444 7.73885 8.06667 7.99996 7.33333 7.99996ZM14.7333 15.6666L12.6 13.5333C12.3667 13.6666 12.1167 13.7777 11.85 13.8666C11.5833 13.9555 11.3 14 11 14C10.1667 14 9.45833 13.7083 8.875 13.125C8.29167 12.5416 8 11.8333 8 11C8 10.1666 8.29167 9.45829 8.875 8.87496C9.45833 8.29163 10.1667 7.99996 11 7.99996C11.8333 7.99996 12.5417 8.29163 13.125 8.87496C13.7083 9.45829 14 10.1666 14 11C14 11.3 13.9556 11.5833 13.8667 11.85C13.7778 12.1166 13.6667 12.3666 13.5333 12.6L15.6667 14.7333L14.7333 15.6666ZM11 12.6666C11.4667 12.6666 11.8611 12.5055 12.1833 12.1833C12.5056 11.8611 12.6667 11.4666 12.6667 11C12.6667 10.5333 12.5056 10.1388 12.1833 9.81663C11.8611 9.4944 11.4667 9.33329 11 9.33329C10.5333 9.33329 10.1389 9.4944 9.81667 9.81663C9.49444 10.1388 9.33333 10.5333 9.33333 11C9.33333 11.4666 9.49444 11.8611 9.81667 12.1833C10.1389 12.5055 10.5333 12.6666 11 12.6666ZM7.35 8.66663C6.88333 9.35552 6.65 10.1333 6.65 11C6.65 11.8666 6.88333 12.6444 7.35 13.3333H2V11.4833C2 11.1055 2.09444 10.7555 2.28333 10.4333C2.47222 10.1111 2.73333 9.86663 3.06667 9.69996C3.63333 9.41107 4.27222 9.16663 4.98333 8.96663C5.69444 8.76663 6.48333 8.66663 7.35 8.66663Z" fill="white"/>
              </g>
            </svg>`;
              name = "Recruiters (all)";
            }
            return {
              ...state,
              userCount:
                state.userCount === 0
                  ? "0"
                  : state.userCount < 10
                  ? "0" + state.userCount
                  : state.userCount,
              icon: this.sanitizer.bypassSecurityTrustHtml(icon),
              name,
              // icon: icon
            };
          });
        }
      })
      .catch((err: any) => {
        console.log("err in statics data", err);
      }); */

    // if (localStorage.user_role === "SAD" || localStorage.user_role === "PLA") {
    //   this.isSuperAdmin = true;
    //   let tempVal;

    //   this.clubService.getClubList().then((e: any) => {
    //     this.sharedService.showLoader = false;
    //     this.clubsList = e.data;
    //     let clubCount = e.data.length;
    //     this.totalClubs =
    //       clubCount === 0 ? "0" : clubCount < 10 ? "0" + clubCount : clubCount;
    //   });
    // }
    // this.sharedService.showLoader = false;
  }

  dropdownChange(e: any) {
    localStorage.super_cur_clubId = e.value._id;
    localStorage.super_cur_club = e.value.db_name;
    localStorage.super_cur_clubName = e.value.club_name;
  }

  navigateToPage(page: string) {
    //console.log("page", page);
    let pageUrl = "athletes";
    switch (page) {
      case "ATH":
        pageUrl = "athletes";
        break;
      case "PAR":
        pageUrl = "parent";
        break;
      case "FFF":
        pageUrl = "friends-family-fans";
        break;
      case "COA":
        pageUrl = "coach";
        break;
      case "CAD":
        pageUrl = "club-admins";
        break;
      case "REC":
        pageUrl = "recruiter";
        break;
      default:
        pageUrl = "/home";
        break;
    }
    this.router.navigateByUrl("/" + pageUrl);
  }
}
